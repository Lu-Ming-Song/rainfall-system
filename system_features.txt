# 基于微波链路的降雨反演分析系统功能梳理

## 一、系统概述
本系统是一个基于微波链路数据的降雨反演分析系统，支持降雨反演和晴雨分类两种主要功能，并提供大屏可视化展示。

## 二、功能模块详细设计

### 1. 数据管理模块

#### 1.1 数据上传与验证
- 数据集类型管理
  * 训练数据集（微波链路数据、降雨数据）
  * 测试数据集（微波链路数据、降雨数据）
  * 验证数据集（可选）

- 数据格式验证
  * 时间列格式检查
  * 必需字段验证（time、attenuation_mean、rainfall_intensity等）
  * 数据类型检查
  * 数据范围验证

- 数据时间匹配
  * 微波链路数据和降雨数据的时间对齐
  * 时间重叠区间检查
  * 采样率一致性检查

- 数据质量评估
  * 数据完整性评分
  * 时间序列连续性评估
  * 异常值占比统计
  * 数据质量报告导出

#### 1.2 数据预处理功能
- 缺失值处理
  * 不处理（保留原始数据）
  * 删除缺失值
  * 均值填充
  * 中位数填充
  * 前向填充（适合时序数据）
  * 后向填充（适合时序数据）
  * 线性插值（适合时序数据）
  * 三次样条插值（适合时序数据）
  * KNN填充（适用于特定场景）

- 异常值处理
  * 箱线图法
  * 3σ准则
  * 自定义范围

- 特征工程功能
  * 时间特征提取（小时、星期、月份等）
  * 滑动窗口特征（均值、方差、最大最小值等）
  * 衍生特征计算（如衰减率变化）
  * 特征筛选工具

- 数据探索分析
  * 数据分布可视化
  * 时序趋势分析
  * 相关性分析
  * 特征统计分析

#### 1.3 数据集管理功能
- 数据集元信息
  * 数据集名称和描述
  * 数据时间范围
  * 数据量统计
  * 数据质量报告
  * 创建时间和创建者

- 数据集操作
  * 数据集查看和搜索
  * 数据集编辑
  * 数据集删除
  * 数据导出（支持CSV、Excel、JSON格式）

- 数据版本管理
  * 预处理参数记录
  * 版本历史记录
  * 版本对比功能
  * 版本回滚功能

### 2. 模型管理模块

#### 2.1 降雨反演模型
- 模型类型
  * LSTM
  * BiLSTM
  * GRU
  * Transformer

- 模型训练
  * 参数设置
  * 训练过程监控
  * 训练结果评估
  * 参数自动调优（网格搜索、贝叶斯优化）

- 模型验证功能
  * 交叉验证
  * 时间序列验证（时间滑动窗口验证）
  * 不同时间段的性能对比

- 模型评估指标
  * 相关系数
  * 决定系数（R²）
  * 均方根误差（RMSE）
  * 平均绝对误差（MAE）
  * 预测置信区间

#### 2.2 晴雨分类模型
- 模型类型
  * LSTM
  * BiLSTM
  * GRU
  * Transformer
  * XGBoost

- 模型训练
  * 参数设置
  * 训练过程监控
  * 训练结果评估
  * 参数自动调优（网格搜索、贝叶斯优化）

- 模型验证功能
  * 交叉验证
  * 时间序列验证（时间滑动窗口验证）
  * 不同时间段的性能对比

- 模型评估指标
  * 准确率
  * 精确率
  * 召回率
  * F1分数
  * ROC曲线
  * AUC值

#### 2.3 模型管理功能
- 模型列表管理
  * 按任务类型分类（反演/分类）
  * 模型详情查看
  * 模型删除
  * 模型导出

- 模型分析功能
  * 模型性能对比
  * 预测结果对比
  * 特征重要性分析
  * 模型决策过程可视化

- 模型部署管理
  * 模型版本控制
  * 模型备份和恢复
  * 模型导入导出

- 模型集成功能
  * 多模型融合策略
  * 投票/加权方案设置
  * 集成模型评估
  * 集成结果分析

- 模型可解释性分析
  * 注意力机制可视化
  * 特征贡献度分析
  * 预测结果解释
  * 模型敏感性分析

### 3. 预测分析模块

#### 3.1 降雨反演预测
- 数据预测
  * 单个数据集预测
  * 批量数据预测

- 结果分析
  * 预测结果可视化
  * 误差分析
  * 性能指标计算
  * 不同时间尺度的预测效果分析（小时、天、月）
  * 不同降雨强度区间的预测效果分析
  * 预测误差的时间分布分析
  * 极端天气情况下的预测效果分析

- 预测结果导出
  * 支持多种格式导出
  * 导出预测结果的详细分析报告
  * 导出可视化图表

#### 3.2 晴雨分类预测
- 数据预测
  * 单个数据集预测
  * 批量数据预测

- 结果分析
  * 预测结果可视化
  * 混淆矩阵
  * 性能指标计算
  * 不同时间尺度的分类效果分析
  * 不同天气类型的分类效果分析
  * 分类错误案例分析

- 预测结果导出
  * 支持多种格式导出
  * 导出分类结果的详细分析报告
  * 导出可视化图表

### 4. 大屏展示模块

#### 4.1 数据概览
- 数据统计信息
  * 数据集总数
  * 数据时间跨度
  * 数据质量分布

- 最近上传数据
  * 最近上传的数据集列表
  * 数据集基本信息

- 系统运行状态
  * 当前活跃用户数
  * 正在处理的任务
  * 系统资源使用情况

#### 4.2 模型展示
- 模型性能指标
  * 各模型性能对比
  * 最佳模型展示

- 模型训练状态
  * 当前训练的模型
  * 训练进度
  * 实时性能指标

- 研究分析展示
  * 不同模型在不同场景下的适用性分析
  * 降雨特征的时空分布展示
  * 预测效果的季节性变化展示

#### 4.3 预测结果展示
- 降雨反演结果
  * 降雨强度时序图
  * 预测值与实测值对比
  * 误差分布图

- 晴雨分类结果
  * 分类结果时序图
  * 混淆矩阵可视化
  * 准确率趋势图

#### 4.4 统计分析
- 降雨特征统计
  * 降雨强度分布
  * 降雨持续时间统计
  * 降雨频次分析

- 预测效果统计
  * 各模型性能统计
  * 预测准确率统计
  * 误差分布分析

### 5. 系统管理功能

#### 5.1 资源管理
- 计算资源监控
  * GPU使用状态
  * 内存使用状态
  * 存储空间监控

- 训练任务管理
  * 任务队列管理
  * 任务优先级设置
  * 任务状态监控

- 系统监控告警
  * 资源使用阈值告警
  * 任务异常告警
  * 系统性能告警

#### 5.2 日志管理
- 操作日志
  * 用户操作记录
  * 数据处理记录
  * 模型训练记录

- 系统日志
  * 错误日志记录
  * 性能日志记录
  * 安全日志记录

#### 5.3 系统配置
- 参数配置
  * 模型训练参数
  * 数据处理参数
  * 系统性能参数

- 权限配置
  * 用户权限管理
  * 角色权限配置
  * 操作权限设置

- 数据备份与恢复
  * 自动备份策略
  * 数据恢复功能
  * 备份日志管理

## 三、用户角色设计

### 1. 管理员
- 系统管理权限
- 用户管理权限
- 全部功能访问权限

### 2. 普通用户
- 数据上传和管理
- 模型训练和预测
- 结果查看和分析

### 3. 访客
- 大屏数据查看
- 基础统计信息查看

## 四、数据流转设计

### 1. 数据采集层
- 微波链路数据导入
- 降雨数据导入
- 数据格式验证

### 2. 数据处理层
- 数据清洗
- 时间对齐
- 特征工程

### 3. 模型处理层
- 模型训练
- 模型预测
- 结果评估

### 4. 展示层
- Web端展示
- 大屏展示
- 数据导出 